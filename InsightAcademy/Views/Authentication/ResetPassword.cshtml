@model int

<link href="~/css/customcss.css" rel="stylesheet" />
<div class="tu-themeform__wrap">
 <form id="signupForm" class="tu-themeform tu-login-form signupform" asp-controller="Authentication" asp-action="UpdateNewPassword">
    
        
            <input name="userid" value="@Model" hidden />
            <div class="form-group-wrap">
                <!-- New Password -->
                <div class="form-group">
                    <div class="tu-placeholderholder">
                    <input id="newPassword" type="password" class="form-control userpassword" required="" placeholder="New Password" name="NewPassword">
                        <div class="tu-placeholder">
                            <span>New Password</span>
                        </div>
                    </div>
                </div>
            <div id="message" style="display:none">
                <p id="letter" class="invalid">A lowercase letter</p>
                <p id="capital" class="invalid">A capital (uppercase) letter</p>
                <p id="number" class="invalid">A number</p>
                <p id="specialchar" class="invalid">A Special Character</p>
                <p id="length" class="invalid">Minimum 8 characters</p>
            </div>
                <!-- Confirm Password -->
                <div class="form-group">
                    <div class="tu-placeholderholder">
                    <input id="confirmPassword" type="password" class="form-control userpassword" required="" placeholder="Confirm Password" name="ConfirmPassword">
                        <div class="tu-placeholder">
                            <span>Confirm Password</span>
                        </div>
                    </div>
                </div>
                <!-- Error Message -->
            <div id="passwordMismatchError" style="color: red; display: none;">Passwords do not match</div>
                <!-- Submit Button -->
                <div class="form-group">
                    <button id="submitButton" class="tu-primbtn-lg" type="submit"><span>Update Password</span><i class="icon icon-arrow-right"></i></button>
                </div>
            </div>
       
   
 </form>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {      
        $('#signupForm').on('submit', function (event) {
            var newPassword = $('#newPassword').val();
            var confirmPassword = $('#confirmPassword').val();

            if (newPassword !== confirmPassword) {
                event.preventDefault(); // Prevent form submission
                $('#passwordMismatchError').css('display', 'block'); // Show error message
            } else {
                $('#passwordMismatchError').css('display', 'none'); // Hide error message if passwords match
            }
        });
        var letter = document.getElementById("letter");
        var capital = document.getElementById("capital");
        var number = document.getElementById("number");
        var specialchar = document.getElementById("specialchar");
        var length = document.getElementById("length");
        $('.userpassword').on('input', function () {
            var myInput = this;
            // Validate lowercase letters
            var lowerCaseLetters = /[a-z]/g;
            if (myInput.value.match(lowerCaseLetters)) {
                letter.classList.remove("invalid");
                letter.classList.add("valid");
            } else {
                letter.classList.remove("valid");
                letter.classList.add("invalid");
            }
            // Validate capital letters
            var upperCaseLetters = /[A-Z]/g;
            if (myInput.value.match(upperCaseLetters)) {
                capital.classList.remove("invalid");
                capital.classList.add("valid");
            } else {
                capital.classList.remove("valid");
                capital.classList.add("invalid");
            }
            // Validate numbers
            var numbers = /[0-9]/g;
            if (myInput.value.match(numbers)) {
                number.classList.remove("invalid");
                number.classList.add("valid");
            } else {
                number.classList.remove("valid");
                number.classList.add("invalid");
            }
            var numbersAndSpecialChars = @Html.Raw("/[@#$%^&*!]/g"); // Include special characters you want to allow

            if (myInput.value.match(numbersAndSpecialChars)) {
                specialchar.classList.remove("invalid");
                specialchar.classList.add("valid");
            } else {
                specialchar.classList.remove("valid");
                specialchar.classList.add("invalid");
            }


            // Validate length
            if (myInput.value.length >= 8) {
                length.classList.remove("invalid");
                length.classList.add("valid");
            } else {
                length.classList.remove("valid");
                length.classList.add("invalid");
            }
        });
   
        myInput.onfocus = function () {
            document.getElementById("message").style.display = "block";
        }
        myInput.onblur = function () {
            document.getElementById("message").style.display = "none";
        }

    



      
    });
</script>

